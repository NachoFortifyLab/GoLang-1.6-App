name: Fortify On Demand API Request

on:
  push:
    branches:
      - main

jobs:
  get-fod-applications:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Retrieve Fortify On Demand Applications
      uses: boro2g/http-request-action@v1.0.2
      with:
          url: '${{ secrets.FOD_API_URL }}/applications'
          method: GET
          headers: |
            {
              "Authorization": "Bearer ${{ secrets.FOD_BEARER_TOKEN }}",
              "Content-Type": "application/json"
            }
